<!DOCTYPE html>
<html lang="ko"
	  xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>아이디 찾기</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-4 mb-5">
	<h2 class="mb-4 text-center">아이디 찾기</h2>

	<form th:action="@{/user/idsearch}" th:object="${userSearchDto}" method="post" class="needs-validation" novalidate>

		<div th:if="${#fields.hasGlobalErrors()}" class="alert alert-danger">
			<p th:each="err : ${#fields.globalErrors()}" th:text="${err}"></p>
		</div>

		<table class="table table-bordered align-middle">
			<tbody>
			<tr>
				<th class="bg-light w-25">이메일</th>
				<td>
					<input type="text" th:field="*{email}" class="form-control" placeholder="이메일을 입력하세요">
					<div class="text-danger small" th:errors="*{email}"></div>
				</td>
			</tr>
			<tr>
				<th class="bg-light w-25">전화번호</th>
				<td>
					<input type="text" th:field="*{phoneno}" class="form-control" placeholder="전화번호를 입력하세요">
					<div class="text-danger small" th:errors="*{phoneno}"></div>
				</td>
			</tr>
			</tbody>
		</table>

		<div class="text-center mt-4">
			<button type="submit" class="btn btn-primary">아이디찾기</button>
			<button type="button" class="btn btn-secondary" onclick="window.close()">창 닫기</button>
		</div>
	</form>

	<div th:if="${foundUserId}" class="alert alert-success mt-4 text-center">
		<p>찾으시는 아이디는 **<span th:text="${foundUserId}"></span>** 입니다.</p>
		<button type="button" class="btn btn-info mt-2" onclick="window.close()">창 닫기</button>
	</div>

	<div th:if="${param.notFound}" class="alert alert-warning mt-4 text-center">
		<p>입력하신 정보와 일치하는 아이디를 찾을 수 없습니다.</p>
	</div>

</div>

</body>
</html>